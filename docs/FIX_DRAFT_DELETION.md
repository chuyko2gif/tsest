# Инструкция по исправлению удаления черновиков

## Проблема
Удаление черновиков не работало из-за отсутствия RLS политик в базе данных.

## Решение

### 1. Выполните SQL скрипт

Откройте Supabase SQL Editor и выполните файл:
```
sql/fix_draft_deletion_rls.sql
```

Этот скрипт:
- ✅ Создает политику DELETE для пользователей (могут удалять только свои черновики)
- ✅ Создает политику DELETE для админов (могут удалять любые черновики)
- ✅ Работает для обеих таблиц: `releases_basic` и `releases_exclusive`

### 2. Проверка

После выполнения SQL:
1. Откройте архив черновиков в кабинете
2. Перетащите черновик на корзину
3. Подтвердите удаление в модальном окне
4. Черновик должен быть удален без перезагрузки

## Что было исправлено в коде

### UserReleases.tsx
- ✅ Добавлено красивое модальное окно подтверждения удаления
- ✅ Исправлена логика удаления с правильным определением таблицы
- ✅ Добавлен спиннер загрузки при удалении
- ✅ Убран копирование UPC при клике на удаление

### ReleasesGrid.tsx  
- ✅ Убран большой placeholder (теперь только тонкая линия-индикатор)
- ✅ Плавные transitions 200ms вместо 300ms
- ✅ Убрана лишняя пустота при перетаскивании

### ReleaseCard.tsx
- ✅ Улучшена обработка кликов (предотвращение копирования UPC)
- ✅ Добавлен `e.preventDefault()` и `e.stopPropagation()`

### globals.css
- ✅ Добавлена анимация `animate-scale-in` для модального окна

## Примечания

- Удалить можно только черновики (status = 'draft')
- Админы могут удалять любые черновики
- Обычные пользователи могут удалять только свои
